#!/usr/bin/env bash
# This script groups visitors by IP and HTTP status code and displays the data

# Use awk to group visitors by IP and HTTP status code, count the occurrences, and print in the specified format
awk '{ count[$1" "$9]++ } END { for (ipCode in count) print count[ipCode], ipCode }' apache-access.log |
  sort -rn |
  awk '{ printf "%5d %s %s\n", $1, $2, $3 }'

