#!/usr/bin/env bash
# Get the list of all processes
processes=$(ps -eo pid,ppid,user,cmd --forest)

# Display the header
printf "%-7s %-7s %-15s %s\n" "PID" "PPID" "USER" "COMMAND"

# Iterate over each process and display the information
while IFS= read -r line; do
  # Parse the process information
  pid=$(echo "$line" | awk '{print $1}')
  ppid=$(echo "$line" | awk '{print $2}')
  user=$(echo "$line" | awk '{print $3}')
  cmd=$(echo "$line" | awk '{print $4}')
  
  # Display the process information in a formatted manner
  printf "%-7s %-7s %-15s %s\n" "$pid" "$ppid" "$user" "$cmd"
done <<< "$processes"

